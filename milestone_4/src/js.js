let corpus = [{"title":"John Boyega exits Netflix movie mid-shoot for 'family reasons'",
"text":`Actor John Boyega has left the Netflix thriller Rebel Ridge mid-shoot because of "family reasons". According to Deadline, the Small Axe star, who recently won a Golden Globe for his performance in the acclaimed series, has exited the project and will not be returning. Filming started at the beginning of May. "Rebel Ridge is pausing temporarily as we look to re-cast John Boyega who needed to leave the project for family reasons," a spokesperson told Deadline. "We remain committed to Jeremy Saulnier's extraordinary film and look forward to resuming production. We look forward to continuing our partnership with John Boyega's UpperRoom Productions, in addition to our upcoming film They Cloned Tyrone in which he also stars." Boyega was set to lead the film, from the Green Room director Jeremy Saulnier, which was originally set to shoot in April 2020 until the Covid-19 pandemic. It's described as "a high-velocity thriller that explores systemic American injustices through intense action sequences, suspense and dark humor". The remaining cast includes Don Johnson, AnnaSophia Robb, James Cromwell and Emory Cohen. Saulnier broke out with revenge thriller Blue Ruin in 2013. Boyega recently completed the sci-fi comedy They Cloned Tyrone for Netflix, starring alongside Jamie Foxx, Teyonah Parris and Brian Tyree Henry and will next be seen in legal thriller Naked Singularity. It was also recently announced that he will return for a sequel to Attack the Block, the hit adventure that first made him a star. "Yes Attack the Block 2 is happening!" he wrote on Instagram. "Yes I'll be starring and producing! Yes I'm bloody excited ! London VS them tings." Further details on Boyega's departure are as yet unknown.`,"entity":"John Boyega","type":"PERFORMER"},
{"title":"John Boyega exits Netflix movie mid-shoot for 'family reasons'",
"text":`Actor John Boyega has left the Netflix thriller Rebel Ridge mid-shoot because of "family reasons". According to Deadline, the Small Axe star, who recently won a Golden Globe for his performance in the acclaimed series, has exited the project and will not be returning. Filming started at the beginning of May. "Rebel Ridge is pausing temporarily as we look to re-cast John Boyega who needed to leave the project for family reasons," a spokesperson told Deadline. "We remain committed to Jeremy Saulnier's extraordinary film and look forward to resuming production. We look forward to continuing our partnership with John Boyega's UpperRoom Productions, in addition to our upcoming film They Cloned Tyrone in which he also stars." Boyega was set to lead the film, from the Green Room director Jeremy Saulnier, which was originally set to shoot in April 2020 until the Covid-19 pandemic. It's described as "a high-velocity thriller that explores systemic American injustices through intense action sequences, suspense and dark humor". The remaining cast includes Don Johnson, AnnaSophia Robb, James Cromwell and Emory Cohen. Saulnier broke out with revenge thriller Blue Ruin in 2013. Boyega recently completed the sci-fi comedy They Cloned Tyrone for Netflix, starring alongside Jamie Foxx, Teyonah Parris and Brian Tyree Henry and will next be seen in legal thriller Naked Singularity. It was also recently announced that he will return for a sequel to Attack the Block, the hit adventure that first made him a star. "Yes Attack the Block 2 is happening!" he wrote on Instagram. "Yes I'll be starring and producing! Yes I'm bloody excited ! London VS them tings." Further details on Boyega's departure are as yet unknown.`,"entity":"John Boyega","type":"PERFORMER"},
{"title":"John Boyega exits Netflix movie mid-shoot for 'family reasons'",
"text":`Actor John Boyega has left the Netflix thriller Rebel Ridge mid-shoot because of "family reasons". According to Deadline, the Small Axe star, who recently won a Golden Globe for his performance in the acclaimed series, has exited the project and will not be returning. Filming started at the beginning of May. "Rebel Ridge is pausing temporarily as we look to re-cast John Boyega who needed to leave the project for family reasons," a spokesperson told Deadline. "We remain committed to Jeremy Saulnier's extraordinary film and look forward to resuming production. We look forward to continuing our partnership with John Boyega's UpperRoom Productions, in addition to our upcoming film They Cloned Tyrone in which he also stars." Boyega was set to lead the film, from the Green Room director Jeremy Saulnier, which was originally set to shoot in April 2020 until the Covid-19 pandemic. It's described as "a high-velocity thriller that explores systemic American injustices through intense action sequences, suspense and dark humor". The remaining cast includes Don Johnson, AnnaSophia Robb, James Cromwell and Emory Cohen. Saulnier broke out with revenge thriller Blue Ruin in 2013. Boyega recently completed the sci-fi comedy They Cloned Tyrone for Netflix, starring alongside Jamie Foxx, Teyonah Parris and Brian Tyree Henry and will next be seen in legal thriller Naked Singularity. It was also recently announced that he will return for a sequel to Attack the Block, the hit adventure that first made him a star. "Yes Attack the Block 2 is happening!" he wrote on Instagram. "Yes I'll be starring and producing! Yes I'm bloody excited ! London VS them tings." Further details on Boyega's departure are as yet unknown.`,"entity":"John Boyega","type":"PERFORMER"},
{"title":"John Boyega exits Netflix movie mid-shoot for 'family reasons'",
"text":`Actor John Boyega has left the Netflix thriller Rebel Ridge mid-shoot because of "family reasons". According to Deadline, the Small Axe star, who recently won a Golden Globe for his performance in the acclaimed series, has exited the project and will not be returning. Filming started at the beginning of May. "Rebel Ridge is pausing temporarily as we look to re-cast John Boyega who needed to leave the project for family reasons," a spokesperson told Deadline. "We remain committed to Jeremy Saulnier's extraordinary film and look forward to resuming production. We look forward to continuing our partnership with John Boyega's UpperRoom Productions, in addition to our upcoming film They Cloned Tyrone in which he also stars." Boyega was set to lead the film, from the Green Room director Jeremy Saulnier, which was originally set to shoot in April 2020 until the Covid-19 pandemic. It's described as "a high-velocity thriller that explores systemic American injustices through intense action sequences, suspense and dark humor". The remaining cast includes Don Johnson, AnnaSophia Robb, James Cromwell and Emory Cohen. Saulnier broke out with revenge thriller Blue Ruin in 2013. Boyega recently completed the sci-fi comedy They Cloned Tyrone for Netflix, starring alongside Jamie Foxx, Teyonah Parris and Brian Tyree Henry and will next be seen in legal thriller Naked Singularity. It was also recently announced that he will return for a sequel to Attack the Block, the hit adventure that first made him a star. "Yes Attack the Block 2 is happening!" he wrote on Instagram. "Yes I'll be starring and producing! Yes I'm bloody excited ! London VS them tings." Further details on Boyega's departure are as yet unknown.`,"entity":"John Boyega","type":"PERFORMER"},
{"title":"John Boyega exits Netflix movie mid-shoot for 'family reasons'",
"text":`Actor John Boyega has left the Netflix thriller Rebel Ridge mid-shoot because of "family reasons". According to Deadline, the Small Axe star, who recently won a Golden Globe for his performance in the acclaimed series, has exited the project and will not be returning. Filming started at the beginning of May. "Rebel Ridge is pausing temporarily as we look to re-cast John Boyega who needed to leave the project for family reasons," a spokesperson told Deadline. "We remain committed to Jeremy Saulnier's extraordinary film and look forward to resuming production. We look forward to continuing our partnership with John Boyega's UpperRoom Productions, in addition to our upcoming film They Cloned Tyrone in which he also stars." Boyega was set to lead the film, from the Green Room director Jeremy Saulnier, which was originally set to shoot in April 2020 until the Covid-19 pandemic. It's described as "a high-velocity thriller that explores systemic American injustices through intense action sequences, suspense and dark humor". The remaining cast includes Don Johnson, AnnaSophia Robb, James Cromwell and Emory Cohen. Saulnier broke out with revenge thriller Blue Ruin in 2013. Boyega recently completed the sci-fi comedy They Cloned Tyrone for Netflix, starring alongside Jamie Foxx, Teyonah Parris and Brian Tyree Henry and will next be seen in legal thriller Naked Singularity. It was also recently announced that he will return for a sequel to Attack the Block, the hit adventure that first made him a star. "Yes Attack the Block 2 is happening!" he wrote on Instagram. "Yes I'll be starring and producing! Yes I'm bloody excited ! London VS them tings." Further details on Boyega's departure are as yet unknown.`,"entity":"John Boyega","type":"PERFORMER"},
{"title":"John Boyega exits Netflix movie mid-shoot for 'family reasons'",
"text":`Actor John Boyega has left the Netflix thriller Rebel Ridge mid-shoot because of "family reasons". According to Deadline, the Small Axe star, who recently won a Golden Globe for his performance in the acclaimed series, has exited the project and will not be returning. Filming started at the beginning of May. "Rebel Ridge is pausing temporarily as we look to re-cast John Boyega who needed to leave the project for family reasons," a spokesperson told Deadline. "We remain committed to Jeremy Saulnier's extraordinary film and look forward to resuming production. We look forward to continuing our partnership with John Boyega's UpperRoom Productions, in addition to our upcoming film They Cloned Tyrone in which he also stars." Boyega was set to lead the film, from the Green Room director Jeremy Saulnier, which was originally set to shoot in April 2020 until the Covid-19 pandemic. It's described as "a high-velocity thriller that explores systemic American injustices through intense action sequences, suspense and dark humor". The remaining cast includes Don Johnson, AnnaSophia Robb, James Cromwell and Emory Cohen. Saulnier broke out with revenge thriller Blue Ruin in 2013. Boyega recently completed the sci-fi comedy They Cloned Tyrone for Netflix, starring alongside Jamie Foxx, Teyonah Parris and Brian Tyree Henry and will next be seen in legal thriller Naked Singularity. It was also recently announced that he will return for a sequel to Attack the Block, the hit adventure that first made him a star. "Yes Attack the Block 2 is happening!" he wrote on Instagram. "Yes I'll be starring and producing! Yes I'm bloody excited ! London VS them tings." Further details on Boyega's departure are as yet unknown.`,"entity":"John Boyega","type":"PERFORMER"},
{"title":"John Boyega exits Netflix movie mid-shoot for 'family reasons'",
"text":`Actor John Boyega has left the Netflix thriller Rebel Ridge mid-shoot because of "family reasons". According to Deadline, the Small Axe star, who recently won a Golden Globe for his performance in the acclaimed series, has exited the project and will not be returning. Filming started at the beginning of May. "Rebel Ridge is pausing temporarily as we look to re-cast John Boyega who needed to leave the project for family reasons," a spokesperson told Deadline. "We remain committed to Jeremy Saulnier's extraordinary film and look forward to resuming production. We look forward to continuing our partnership with John Boyega's UpperRoom Productions, in addition to our upcoming film They Cloned Tyrone in which he also stars." Boyega was set to lead the film, from the Green Room director Jeremy Saulnier, which was originally set to shoot in April 2020 until the Covid-19 pandemic. It's described as "a high-velocity thriller that explores systemic American injustices through intense action sequences, suspense and dark humor". The remaining cast includes Don Johnson, AnnaSophia Robb, James Cromwell and Emory Cohen. Saulnier broke out with revenge thriller Blue Ruin in 2013. Boyega recently completed the sci-fi comedy They Cloned Tyrone for Netflix, starring alongside Jamie Foxx, Teyonah Parris and Brian Tyree Henry and will next be seen in legal thriller Naked Singularity. It was also recently announced that he will return for a sequel to Attack the Block, the hit adventure that first made him a star. "Yes Attack the Block 2 is happening!" he wrote on Instagram. "Yes I'll be starring and producing! Yes I'm bloody excited ! London VS them tings." Further details on Boyega's departure are as yet unknown.`,"entity":"John Boyega","type":"PERFORMER"},
{"title":"John Boyega exits Netflix movie mid-shoot for 'family reasons'",
"text":`Actor John Boyega has left the Netflix thriller Rebel Ridge mid-shoot because of "family reasons". According to Deadline, the Small Axe star, who recently won a Golden Globe for his performance in the acclaimed series, has exited the project and will not be returning. Filming started at the beginning of May. "Rebel Ridge is pausing temporarily as we look to re-cast John Boyega who needed to leave the project for family reasons," a spokesperson told Deadline. "We remain committed to Jeremy Saulnier's extraordinary film and look forward to resuming production. We look forward to continuing our partnership with John Boyega's UpperRoom Productions, in addition to our upcoming film They Cloned Tyrone in which he also stars." Boyega was set to lead the film, from the Green Room director Jeremy Saulnier, which was originally set to shoot in April 2020 until the Covid-19 pandemic. It's described as "a high-velocity thriller that explores systemic American injustices through intense action sequences, suspense and dark humor". The remaining cast includes Don Johnson, AnnaSophia Robb, James Cromwell and Emory Cohen. Saulnier broke out with revenge thriller Blue Ruin in 2013. Boyega recently completed the sci-fi comedy They Cloned Tyrone for Netflix, starring alongside Jamie Foxx, Teyonah Parris and Brian Tyree Henry and will next be seen in legal thriller Naked Singularity. It was also recently announced that he will return for a sequel to Attack the Block, the hit adventure that first made him a star. "Yes Attack the Block 2 is happening!" he wrote on Instagram. "Yes I'll be starring and producing! Yes I'm bloody excited ! London VS them tings." Further details on Boyega's departure are as yet unknown.`,"entity":"John Boyega","type":"PERFORMER"}]

let pagValue = 0;
let totalDivisons = 50;
let maxPerPage = 10;
let corpusData;
const pagination = document.querySelector(`#pagination`);
const prevButton = document.querySelector(`#prev`);
const nextButton = document.querySelector(`#next`);
pagination.innerHTML = `${pagValue + 1} of ${totalDivisons}`;

if ((pagValue + 1) == (totalDivisons)) {
    nextButton.disabled = true;
}

function goBack(){
    pagValue--;
    pagination.innerHTML = `${pagValue + 1} of ${totalDivisons + 1}`;
    if (pagValue == 0){
        prevButton.disabled = true;
    }
    if(pagValue == totalDivisons){
        nextButton.disabled = true;
    }
    else{
        // prevButton.disabled = false;
        nextButton.disabled = false;
    }
    dataPreparer(corpusData, pagValue);
}

function goAhead(){
    pagValue++;
    pagination.innerHTML = `${pagValue + 1} of ${totalDivisons + 1}`;
    if (pagValue > 0){
        prevButton.disabled = false;
    }
    if(pagValue == totalDivisons){
        nextButton.disabled = true;
    }

    dataPreparer(corpusData, pagValue);
}

function getDataFromBE(queryString){	
	fetch(`http://127.0.0.1:8000/${queryString}`, {
			"method": "GET"
		})
    .then((response) => response.json())
    .then((response) => {
        console.log(response.length);
        if (response.length > 10) {
            dataPreparer(response);
        }
        else {
            prevButton.disabled = true;
            nextButton.disabled = true;
            if (response.length == 0) {
                pagination.innerHTML = `1 of 1`;
                corpusEntries.innerHTML = `No records found`;
            }
            else {
                dataPreparer(response);
            }
        }
    })
}

function dataPreparer(data, pagValue=0) {
    corpusData = data;
    totalDivisons = Math.ceil(data.length/maxPerPage) - 1;
    pagination.innerHTML = `${pagValue + 1} of ${totalDivisons + 1}`;
    if (pagValue == totalDivisons) {
        showCorpusEntries(corpusData.slice(10*pagValue));
    }
    else {
    showCorpusEntries(corpusData.slice(10*pagValue, 10*pagValue + 10));
    }
}


const corpusEntries = document.querySelector(`#entries`);

const searchText = document.querySelector(`#searchtext`);

const filmCheckBox = document.querySelector(`#film`);
const performerCheckBox = document.querySelector(`#performer`);
const allCheckBox = document.querySelector(`#all`);
const othersCheckBox = document.querySelector(`#others`);
const filmcrewCheckBox = document.querySelector(`#filmcrew`);

const textCheckBox = document.querySelector(`#text`);
const entityCheckBox = document.querySelector(`#entity`);
const textAllCheckBox = document.querySelector(`#textall`);

const getData = function(string) {
    getDataFromBE(string);
}

const createQuery = function() {
    pagValue = 0;
    getData(`textValue=${searchText.value}&central_entity=${entityCheckBox.checked}&text=${textCheckBox.checked}&textALL=${textAllCheckBox.checked}&FILM=${filmCheckBox.checked}&PERFORMER=${performerCheckBox.checked}&typeALL=${allCheckBox.checked}&OTHERS=${othersCheckBox.checked}&FILM-CREW=${filmcrewCheckBox.checked}`);
    nextButton.disabled = false;
    prevButton.disabled = true;
}

// checkbox.addEventListener('change', function() {
//     if (this.checked) {
//       console.log("Checkbox is checked..");
//     } else {
//       console.log("Checkbox is not checked..");
//     }
//   });

// checkbox.addEventListener('change', function() {
//   if (this.checked) {
//     console.log("Checkbox is checked..");
//   } else {
//     console.log("Checkbox is not checked..");
//   }
// });


const showCorpusEntries = function(data){
    let maxPerPage = 10;
    corpusEntries.innerHTML = ``;
    data.forEach(entry => {
        const entryArticle = document.createElement('article');
        entryArticle.classList.add('entry');

        entryArticle.innerHTML = `
        <div class="record-header">
        <div class="annotation-label">
        <p class="labels">Annotations</p>
        </div>
        <div class="entity">
        <p class="labels">Central Entity</p>
        <p class="label-text">${entry.entity}</p>
        </div>
        <div class="type">
        <p class="labels">Type</p>
        <p class="label-text">${entry.type}</p>
        </div>
        </div>
        <p>${entry.title}</p>
        <p>${entry.text}</p>
        `

        corpusEntries.appendChild(entryArticle);
    });
}

getData(`textValue=${searchText.value}&central_entity=${entityCheckBox.checked}&text=${textCheckBox.checked}&textALL=${true}&FILM=${filmCheckBox.checked}&PERFORMER=${performerCheckBox.checked}&typeALL=${true}&OTHERS=${othersCheckBox.checked}&FILM-CREW=${filmcrewCheckBox.checked}`)
// showCorpusEntries(corpus);